<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Expense Tracker</title>
  <style>
    body {font-family: Arial, sans-serif; max-width: 600px; margin: 2rem auto; padding: 1rem;}
    label {display:block; margin-top:1rem;}
    input, select, textarea {width:100%; padding:0.5rem; margin-top:0.3rem;}
    button {margin-top:1.5rem; padding:0.8rem 1.2rem; font-size:1rem;}
    #msg {margin-top:1rem; padding:0.8rem; border-radius:4px;}
    .success {background:#e6ffed; border:1px solid #28a745;}
    .error   {background:#ffe6e6; border:1px solid #dc3545;}
  </style>
</head>
<body>

<h2>Add Expense</h2>

<form id="expenseForm">
  <label>Date of transaction <span style="color:red;">*</span></label>
  <input type="date" id="date" required>

  <label>Vendor <span style="color:red;">*</span></label>
  <input type="text" id="vendor" required>

  <label>Amount <span style="color:red;">*</span></label>
  <input type="number" step="0.01" id="amount" required>

  <label>Description <span style="color:red;">*</span></label>
  <textarea id="description" rows="2" required></textarea>

  <label>Account <span style="color:red;">*</span></label>
  <select id="account" required>
    <option value="" disabled selected>-- Select account --</option>
    <option>Groceries</option>
    <option>Eating out</option>
    <option>Gym membership</option>
    <option>Chiropractor</option>
    <option>Copays</option>
    <option>Medication</option>
    <option>Mortgage</option>
    <option>Home maintenance</option>
    <option>Home Supplies/Cleaning</option>
    <option>Household items</option>
    <option>Lawn care</option>
    <option>Health insurance</option>
    <option>Auto insurance</option>
    <option>Term life insurance</option>
    <option>School expenses</option>
    <option>Sports and extracurriculars</option>
    <option>Pandora</option>
    <option>Subscriptions</option>
    <option>Parent/Kid Date</option>
    <option>Date Night</option>
    <option>Andrew Fun Money</option>
    <option>Grace Fun Money</option>
    <option>Babysitting</option>
    <option>Family Outing</option>
    <option>Taxes</option>
    <option>Holidays and special occasions</option>
    <option>Gifts</option>
    <option>Miscellaneous</option>
    <option>Clothing</option>
    <option>Make-Up and Hair</option>
    <option>Personal care</option>
    <option>Pet food</option>
    <option>Pet medication</option>
    <option>Pet maintenance</option>
    <option>Emergency fund</option>
    <option>Retirement savings</option>
    <option>Renovation Fund</option>
    <option>Vacation Fund</option>
    <option>Gas</option>
    <option>Car maintenance</option>
    <option>Electricity</option>
    <option>Water Bill</option>
    <option>Trash services</option>
    <option>Internet</option>
    <option>Pest control</option>
  </select>

  <button type="submit">Submit</button>
</form>

<div id="msg"></div>

<script>
  // ------>  PASTE YOUR WEB-APP URL HERE  <------
  const SCRIPT_URL = 'https://script.google.com/macros/s/XXXXXX/exec';

  const form = document.getElementById('expenseForm');
  const msg  = document.getElementById('msg');

  form.addEventListener('submit', async e => {
    e.preventDefault();
    msg.textContent = '';
    msg.className = '';

    const payload = {
      date:        document.getElementById('date').value,
      vendor:      document.getElementById('vendor').value.trim(),
      amount:      document.getElementById('amount').value,
      description: document.getElementById('description').value.trim(),
      account:     document.getElementById('account').value
    };

    try {
      const resp = await fetch(SCRIPT_URL, {
        method: 'POST',
        headers: {'Content-Type': 'text/plain'},
        body: JSON.stringify(payload)
      });

      const result = await resp.json();

      if (result.status === 'success') {
        msg.textContent = `Success! UID: ${result.uid}`;
        msg.className = 'success';
        form.reset();
      } else {
        throw new Error(result.message || 'Unknown error');
      }
    } catch (err) {
      msg.textContent = 'Error: ' + err.message;
      msg.className = 'error';
    }
  });
</script>

</body>
</html>